<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Concourse on Mike Ball</title><link>/tags/concourse/</link><description>Recent content in Concourse on Mike Ball</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Tue, 29 Oct 2019 00:00:00 +0000</lastBuildDate><atom:link href="/tags/concourse/index.xml" rel="self" type="application/rss+xml"/><item><title>How to Make a Concourse Resource Type</title><link>/blog/how-to-make-a-concourse-resource-type/</link><pubDate>Tue, 29 Oct 2019 00:00:00 +0000</pubDate><guid>/blog/how-to-make-a-concourse-resource-type/</guid><description>&lt;p&gt;&lt;em&gt;My notes and thoughts on Concourse resource types and when and how to build and test your own resource types&lt;/em&gt;.&lt;/p&gt;
&lt;h2 id="context-and-background"&gt;Context and background&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Resources&lt;/em&gt; are a core concept in &lt;a href="https://concourse-ci.org"&gt;Concourse&lt;/a&gt; CI/CD pipelines. A &lt;a href="https://concourse-ci.org/resources.html"&gt;resource&lt;/a&gt; is any entity that Concourse can check for new versions, fetch at a specific version, and/or push up changes to idempotently create new versions. In this sense, a resource &amp;ldquo;version&amp;rdquo; is a specific form of a resource that differs from earlier forms, such as a particular commit on a git repository or a particular build artifact object in an AWS S3 bucket. This may sound vague, but it&amp;rsquo;s an arguably compelling feature. Because Concourse&amp;rsquo;s notion of resources offers users a generic way to extend Concourse functionality &amp;ndash; and because Concourse supports the use of custom &lt;a href="https://concourse-ci.org/implementing-resource-types.html"&gt;resource-type implementations&lt;/a&gt; &amp;ndash; resources serve as a useful tool in building Concourse CI/CD pipelines. Pipeline authors can leverage Concourse&amp;rsquo;s built-in resource types, use community-maintained resource types, or create new functionality through their own, custom resource types. And each implementation &amp;ndash; whether it&amp;rsquo;s a built-in resource type, a community-maintained resource type, or a custom, in-house resource type &amp;ndash; is itself packaged and versioned software with its own build/test/release CI/CD lifecycle. In this sense, resource types emerge as an interesting model through which the the units of CI/CD pipeline functionality can be maintained and distributed as first class software projects, and not just ad hoc scripts and untested glue code, as has been historically common.&lt;/p&gt;</description></item><item><title>Committing Via the Concourse Git Resource</title><link>/blog/committing-via-the-concourse-git-resource/</link><pubDate>Mon, 05 Jun 2017 00:00:00 +0000</pubDate><guid>/blog/committing-via-the-concourse-git-resource/</guid><description>&lt;p&gt;A &lt;a href="http://concourse-ci.org"&gt;Concourse&lt;/a&gt; &lt;em&gt;resource&lt;/em&gt; is any entity that can be checked for new versions, fetched at a specific version, and/or pushed up to idempotently create new versions. &lt;a href="http://concourse-ci.org"&gt;Concourse&lt;/a&gt;&amp;rsquo;s built-in &lt;a href="https://github.com/concourse/git-resource"&gt;git-resource&lt;/a&gt; is a Concourse resource for working with git repositories.&lt;/p&gt;
&lt;p&gt;Pulling down a git repository for use in a pipeline job using the &lt;code&gt;git-resource&lt;/code&gt; is fairly straight forward:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;resources&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- &lt;span style="color:#f92672"&gt;name&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;my-repo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;type&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;git&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;source&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;branch&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;master&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;uri&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;https://github.com/my-org/my-repo.git&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;uername&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;git&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;password&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;((github-access-token))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;jobs&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- &lt;span style="color:#f92672"&gt;name&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;git-log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;plan&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;get&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;my-repo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;task&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;show-log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;config&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;inputs&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;name&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;my-repo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;platform&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;linux&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;image_resource&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;type&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;registry-image&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;source&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;repository&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;node&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;tag&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;6.3.1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;run&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;dir&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;my-repo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;path&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;git&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;args&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - --&lt;span style="color:#66d9ef"&gt;no&lt;/span&gt;-&lt;span style="color:#ae81ff"&gt;pager&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#ae81ff"&gt;log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;But how can Concourse&amp;rsquo;s &lt;code&gt;git-resource&lt;/code&gt; be leveraged to make and push commits to a repository? The following offers an example pipeline job executing a &lt;code&gt;put&lt;/code&gt; on a modified git resource:&lt;/p&gt;</description></item><item><title>Using the ConcourseCI pull request resource to verify Docker builds</title><link>/blog/using-the-concourseci-pull-request-resource-to-verify-docker-builds/</link><pubDate>Fri, 19 Aug 2016 00:00:00 +0000</pubDate><guid>/blog/using-the-concourseci-pull-request-resource-to-verify-docker-builds/</guid><description>&lt;p&gt;&lt;a href="http://concourse.ci"&gt;Concourse.ci&lt;/a&gt; offers a free, open source continuous integration and delivery tool through which software development teams can establish and manage delivery pipelines.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Problem&lt;/strong&gt;: &lt;a href="https://travis-ci.org"&gt;TravisCI&lt;/a&gt; can be configured to run CI against a docker image&amp;rsquo;s &lt;a href="https://travis-ci.org/mdb/docker-wct"&gt;source code repository&lt;/a&gt;. But how can Concourse&amp;rsquo;s &lt;code&gt;pull-request&lt;/code&gt; resource be configured to test that &lt;code&gt;docker build&lt;/code&gt; of a &lt;code&gt;Dockerfile&lt;/code&gt; works as expected in a repo that houses such a &lt;code&gt;Dockerfile&lt;/code&gt;?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Solution&lt;/strong&gt;: Configure the Concourse&amp;rsquo;s pull request verification job to use the &lt;code&gt;docker-image&lt;/code&gt; resource type, thus performing a &lt;code&gt;docker build&lt;/code&gt; using the &lt;code&gt;Dockerfile&lt;/code&gt; during a pull request&amp;rsquo;s continuous integration. Note line 41 in the &lt;code&gt;pipeline.yml&lt;/code&gt;.&lt;/p&gt;</description></item></channel></rss>