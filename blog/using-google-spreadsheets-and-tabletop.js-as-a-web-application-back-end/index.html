<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Using Google Spreadsheets and Tabletop.js as a Web Application Back-end | Mike Ball</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=generator content="Hugo 0.95.0"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=stylesheet href=http://mikeball.info/main.min.fc82b5f1b515fbd2833bd59ff79fa346acc53053fa47e21268ea8a00c448d9c9.css></head><body><header><div class=mark><a href=/>Mike Ball</a></div><button>Toggle Navigation</button><div class=nav-wrap><nav class=primary><ul><li><a href=/blog>Blog</a></li><li><a href=#about>About</a></li></ul></nav><nav class=secondary><ul><li><a href=https://github.com/mdb>GitHub</a></li><li><a href=https://instagram.com/clapclapexcitement>Instagram</a></li></ul></nav><nav class=tertiary><ul><li><a href=https://tiendah.bigcartel.com>Shop</a></li><li><a href=#about>Contact</a></li></ul></nav></div></header><main role=main><div class=blog-post><aside class=divider><a href=http://mikeball.info/blog/>Blog</a></aside><time>March 2, 2013</time><article><header><h1>Using Google Spreadsheets and Tabletop.js as a Web Application Back-end</h1></header><div><p>At <a href=http://ire.org/events-and-training/event/315>NICAR 2013</a>, <a href=http://tasneemraja.com>Tasneem Raja</a> spoke on <a href=http://ire.org/events-and-training/event/315/623>Smarter interactive Web projects with Google Spreadsheets and Tabletop.js</a>. Tasneem is <em>Mother Jones</em>‘s Interactive Editor; she outlined how <em>Mother Jones</em> uses Google Spreadsheets to power some of its interactive features.</p><p>Beyond serving as a simple, easy-to-maintain datastore and CMS, Google Spreadsheets — used in concert with <a href=https://github.com/jsoma/tabletop>Tabletop.js</a> — allows for the creation of dynamic web content in absence of server-side processing, in effect empowering a highly scalable and simple architecture.</p><p>The following offers a basic example.</p><p><b>1.</b> Sign into <a href=https://drive.google.com>Google Drive</a> with your Google credentials and create a new Spreadsheet titled <code>tabletop_example</code> with the following content:</p></p><img src=http://www.mikeball.us/wp-content/uploads/2013/03/tabletop_spreadsheet.png alt=tabletop_spreadsheet><p><b>2.</b> Click <code>File > Publish to the Web > Start Publishing</code> to publicly publish your spreadsheet.
<b>3.</b> Create a project directory with the following files and structure:</p></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>├── index.html
</span></span><span style=display:flex><span>└── js
</span></span><span style=display:flex><span>    ├── app.js
</span></span><span style=display:flex><span>    └── vendor
</span></span><span style=display:flex><span>        └── tabletop.js
</span></span></code></pre></div><p>Grab a copy of <a href=https://github.com/jsoma/tabletop>Tabletop.js</a> to store in <code>js/vendor/tabletop.js</code>.</p><p>Set up the homepage by adding the following to index.html:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>html</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>title</span>&gt;Some Site Title&lt;/<span style=color:#f92672>title</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>header</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>h1</span>&gt;&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/&#34;</span>&gt;Some Site Title&lt;/<span style=color:#f92672>a</span>&gt;&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>header</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>ul</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;politicians&#34;</span>&gt;&lt;/<span style=color:#f92672>ul</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://code.jquery.com/jquery-1.9.1.min.js&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;js/vendor/tabletop.js&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;js/app.js&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>html</span>&gt;
</span></span></code></pre></div><p>Retrieve the document key associated with your <code>tabletop_example</code> spreadsheet. This can be found in the document’s URL: docs.google.com/spreadsheet/ccc?key=<strong>YOUR_DOCUMENT_KEY_APPEARS_HERE</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>$</span>(document).<span style=color:#a6e22e>ready</span>(<span style=color:#66d9ef>function</span> () {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Tabletop</span>.<span style=color:#a6e22e>init</span>({
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>key</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;YOUR_DOCUMENT_KEY_GOES_HERE&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>callback</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>data</span>, <span style=color:#a6e22e>tabletop</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span>,
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>dataLength</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>length</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span> (<span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>&amp;&lt;</span><span style=color:#a6e22e>dataLength</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>$</span>(<span style=color:#e6db74>&#39;#politicians&#39;</span>).<span style=color:#a6e22e>append</span>(
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>$</span>(<span style=color:#e6db74>&#39;&lt;li&gt;&#39;</span>, {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>text</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>data</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>politician</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;, &#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>data</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>position</span>
</span></span><span style=display:flex><span>          })
</span></span><span style=display:flex><span>        );
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>simpleSheet</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><p>Open <code>index.html</code> in your web browser.</p><p>While the above code outlines a fairly simple example, tools like <a href=http://backbonejs.org>Backbone.js</a> provide the opportunity to layer in functionality such as URL routing, filtering, and sorting. And again, because Tabletop.js requires no application server, this solution requires no technology beyond static HTML, CSS, and JavaScript. As such, it’s highly scalable when deployed to a web server like <a href=http://nginx.org>nginx</a> or <a href=http://httpd.apache.org>Apache</a>.</p></div><ul class=tags><li><a href=/tags/javascript>javascript</a></li><li><a href=/tags/nicar>nicar</a></li></ul></article></div></main><footer><section><h1 id=about>Info</h1><div><h2>Mike Ball</h2><p>I live in Philadelphia and work as a multi-disciplinary software engineer & designer.</p><p>Over the years, I've developed front end UIs, server backends, automated cloud infrastructure provisioning, built continuous deployment pipelines for highly available applications, and contributed to numerous open source software projects.</p><p>I've also worked in graphic and UX design. Buy prints of my illustrations at <a href=https://tiendah.bigcartel.com>Tiendah</a>.</div><div class=double><h2>Shop Tiendah</h2><ul class="gallery store-feed"></ul><h2>Instagram</h2><ul class="gallery ig-feed"></ul></div><div><h2>Etc.</h2><ul><li><a href=http://github.com/mdb>GitHub</a></li><li><a href=http://twitter.com/clapexcitement>Twitter</a></li><li><a href=https://instagram.com/clapclapexcitement>Instagram</a></li><li><a href=/index.xml>RSS Feed</a></li><li><a href=https://tiendah.bigcartel.com>Shop Tiendah</a></li></ul><h2>Contact</h2><p>Interested in working with me? <a href=mailto:mikedball@gmail.com>Get in touch</a>.</p></div></section></footer><script type=text/javascript src=/js/main.min.c32b1a9bb9a5dc973e4de713e5e17dc2614c23e6ed476c5edc8f24c490738752.js></script>
<script type=text/javascript>(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)})(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-54324621-1","auto"),ga("send","pageview")</script></body></html>