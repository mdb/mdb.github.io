<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>rake on Mike Ball</title><link>/tags/rake/</link><description>Recent content in rake on Mike Ball</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Fri, 15 Apr 2016 00:00:00 +0000</lastBuildDate><atom:link href="/tags/rake/index.xml" rel="self" type="application/rss+xml"/><item><title>Using OptionParser in Rake</title><link>/blog/using-optionparser-in-rake/</link><pubDate>Fri, 15 Apr 2016 00:00:00 +0000</pubDate><guid>/blog/using-optionparser-in-rake/</guid><description>Problem: you&amp;rsquo;d like to leverage named arguments in your Ruby Rake task.
Solution: use OptionParser to parse the named arguments. Note the need to also call #OptionParser#order!(ARGV), which is often absent from internet documentation.
This example uses Ruby 2.2.2 and Rake 11.1.2.
require &amp;#39;optparse&amp;#39; task :hello do options = { name: &amp;#39;world&amp;#39; } o = OptionParser.new o.banner = &amp;#34;Usage: rake hello [options]&amp;#34; o.on(&amp;#39;-n NAME&amp;#39;, &amp;#39;--name NAME&amp;#39;) { |name| options[:name] = name } # return `ARGV` with the intended arguments args = o.</description></item></channel></rss>